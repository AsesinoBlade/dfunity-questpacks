-- Perpetual Quest
Quest: JHPQ033
DisplayName: Loose Change
-- Message panels
QRC:

QuestorOffer:  [1000]
<ce>          ERROR 1000 JHPQ033

RefuseQuest:  [1001]
<ce>          ERROR 1001 JHPQ033

AcceptQuest:  [1002]
<ce>           ERROR 1002 JHPQ033

QuestFail:  [1003]
<ce>          ERROR 1003 JHPQ033

QuestComplete:  [1004]
<ce> You snatch the money and make your getaway.

Message:  1010
<ce> Someone with an unusually large pouch of gold in one pocket
<ce> catches your eye. The mark is fairly close and you haven't been
<ce> noticed. If you wanted, you could try fishing the bag out
<ce> and taking it for yourself.

Message:  1011
<ce> Your attempt wasn't good enough. Your target shouts at
<ce> you and takes a few steps back for self-defense.

Message:  1012
<ce> Such an opportunity might interest some, but not you.
<ce> You ignore the conspicuous target and carry on.

QBN:
Clock _failsafe_ 7.00:00
Clock _timer_ 1:00

Item _reward_ gold range 251 to 399

Foe _enemy_ is Monk

--	Quest start-up:
    start timer _failsafe_

 _enter_ task:
   when pc enters city
   start timer _timer_
    prompt 1010 yes _begin_ no _quit_

_begin_ task:
    pick one of _go1_ _go2_ _go3_

_check1_ task:
   when skill Pickpocket is at least 10

_check2_ task:
    when skill Pickpocket is at least 20

_check3_ task:
    when skill Pickpocket is at least 30

variable _go1_
variable _go2_
variable _go3_

_c1_ task:
    when _check1_ and _go1_
    start task _victory_

_c2_ task:
    when _check2_ and _go2_
    start task _victory_

_c3_ task:
    when _check3_ and _go3_
    start task _victory_

_d1_ task:
    when not _check1_ and _go1_
    start task _fail_

_d2_ task:
    when not _check2_ and _go2_
    start task _fail_

_d3_ task:
    when not _check3_ and _go3_
    start task _fail_

_victory_ task:
    give pc _reward_
    end quest

_fail_ task:
    say 1011
    create foe _enemy_ every 0 minutes 1 times with 100% success
    give item _reward_ to _enemy_
    make _reward_ permanent

_slain_ task:
   killed _enemy_
-legalrep -30

_timer_ task:
   end quest

_failsafe_ task:
   end quest

_quit_ task:
  say 1012
  end quest